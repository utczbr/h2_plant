<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H2 Plant Simulation Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: #fff; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .kpi-value { font-size: 24px; font-weight: bold; color: #2c3e50; }
        .kpi-label { color: #7f8c8d; font-size: 14px; }
        h1 { margin: 0; color: #2c3e50; }
        h2 { color: #34495e; margin-top: 0; }
        canvas { width: 100% !important; height: 300px !important; }
        #sankeyChart { width: 100%; height: 500px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f8f9fa; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Hydrogen Plant Simulation Results</h1>
            <p id="sim-info">Simulation completed successfully.</p>
        </div>

        <div class="grid">
            <div class="card">
                <div class="kpi-label">Total H2 Production</div>
                <div class="kpi-value" id="kpi-production">-</div>
            </div>
            <div class="card">
                <div class="kpi-label">Total Demand</div>
                <div class="kpi-value" id="kpi-demand">-</div>
            </div>
            <div class="card">
                <div class="kpi-label">Total Cost</div>
                <div class="kpi-value" id="kpi-cost">-</div>
            </div>
            <div class="card">
                <div class="kpi-label">Avg Cost / kg H2</div>
                <div class="kpi-value" id="kpi-avg-cost">-</div>
            </div>
        </div>

        <div class="card" style="margin-bottom: 20px;">
            <h2>System Flow (Sankey)</h2>
            <div id="sankeyChart"></div>
        </div>

        <div class="card" style="margin-bottom: 20px;">
            <h2>Production vs Demand</h2>
            <canvas id="productionChart"></canvas>
        </div>

        <div class="grid">
            <div class="card">
                <h2>Storage Levels</h2>
                <canvas id="storageChart"></canvas>
            </div>
            <div class="card">
                <h2>Energy Price</h2>
                <canvas id="priceChart"></canvas>
            </div>
        </div>

        <div class="card" style="margin-bottom: 20px;">
            <h2>Flow Matrix</h2>
            <div id="flowMatrixContainer" style="overflow-x: auto;"></div>
        </div>

        <div class="header">
            <h1>Advanced Analytics (Generated Graphs)</h1>
        </div>

        <div class="grid" style="grid-template-columns: 1fr;">
            <!-- Generated Plotly Graphs -->
            <div class="card">
                <h3>Total Production Stacked</h3>
                <iframe src="graphs/total_h2_production_stacked.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
            <div class="card">
                <h3>Cumulative Production</h3>
                <iframe src="graphs/cumulative_h2_production.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
            <div class="card">
                <h3>PEM Performance Surface</h3>
                <iframe src="graphs/pem_performance_surface.html" style="border:none; width:100%; height:800px;"></iframe>
            </div>
             <div class="card">
                <h3>Grid Interaction Phase Portrait</h3>
                <iframe src="graphs/grid_interaction_phase_portrait.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
            <div class="card">
                <h3>Dispatch Strategy</h3>
                <iframe src="graphs/dispatch_strategy_stacked.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
            <div class="card">
                <h3>Energy Price</h3>
                <iframe src="graphs/energy_price_over_time.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
             <div class="card">
                <h3>Wind Utilization</h3>
                <iframe src="graphs/wind_utilization_duration_curve.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
             <div class="card">
                <h3>Power Consumption Breakdown</h3>
                <iframe src="graphs/power_consumption_breakdown_pie.html" style="border:none; width:100%; height:600px;"></iframe>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>PEM Production</h3>
                    <iframe src="graphs/pem_h2_production_over_time.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
                <div class="card">
                    <h3>SOEC Production</h3>
                    <iframe src="graphs/soec_h2_production_over_time.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>PEM Voltage</h3>
                    <iframe src="graphs/pem_cell_voltage_over_time.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
                <div class="card">
                    <h3>PEM Efficiency</h3>
                    <iframe src="graphs/pem_efficiency_over_time.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>SOEC Active Modules</h3>
                    <iframe src="graphs/soec_active_modules_over_time.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
                <div class="card">
                    <h3>Ramp Rate Stress</h3>
                    <iframe src="graphs/ramp_rate_stress_distribution.html" style="border:none; width:100%; height:500px;"></iframe>
                </div>
            </div>

            <div class="header">
                <h2>Thermal & Separation (Integrated)</h2>
            </div>
            <div class="grid">
                 <div class="card">
                    <h3>Total Water Removal</h3>
                    <!-- Matplotlib generates PNGs, so we use img tag -->
                    <img src="graphs/water_removal_total.png" alt="Total Water Removal" style="width:100%; height:auto;">
                </div>
                 <div class="card">
                    <h3>Discarded Drains Overview</h3>
                    <img src="graphs/drains_discarded.png" alt="Discarded Drains" style="width:100%; height:auto;">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Embedded Simulation Data
        const data = {"simulation": {"start_hour": 0, "end_hour": 24, "duration_hours": 24.0, "timestep_hours": 0.016666666666666666, "execution_time_seconds": 16.235677242279053}, "final_states": {"lut_manager": {"component_id": "lut_manager", "initialized": true, "lut_config": {"pressure_min": 5000.0, "pressure_max": 100000000.0, "pressure_points": 2000, "temperature_min": 273.15, "temperature_max": 1200.0, "temperature_points": 2000, "entropy_min": 0.0, "entropy_max": 100000.0, "entropy_points": 500, "properties": ["D", "H", "S", "C", "Z"], "fluids": ["H2", "O2", "N2", "CO2", "CH4", "H2O", "CO"], "interpolation": "linear", "cache_dir": "/home/stuart/Documentos/Planta Hidrogenio/.h2_plant/lut_cache"}, "luts_loaded_fluids": ["H2", "O2", "N2", "CO2", "CH4", "H2O", "CO"]}, "cooling_manager": {"component_id": "cooling_manager", "initialized": true, "glycol_supply_temp_c": 27.514279638158975, "glycol_return_temp_c": 28.424912514578057, "glycol_duty_total_kw": 2204.9846787402626, "glycol_flow_total_kg_s": 672.05, "cw_supply_temp_c": 20.015516149386205, "cw_duty_total_kw": 387.90373465139936, "t_dry_bulb_c": 25.0, "t_wet_bulb_c": 18.0, "tower_fan_power_kw": 7.758074693027988}, "Water_Source": {"component_id": "Water_Source", "initialized": true, "mode": "external_control", "flow_rate_kg_h": 12000.0, "current_flow_kg_h": 10000.0, "water_output_kg": 166.66666666666666, "cumulative_water_kg": 239999.9999999952, "cumulative_cost": 479.99999999999017}, "Water_Purifier": {"component_id": "Water_Purifier", "initialized": true, "power_kw": 30.0, "timestep_energy_kwh": 0.5, "input_buffer_kg": 166.66666666666666, "current_capacity_kg_h": 12000.0, "rated_capacity_kg_h": 12000.0, "tcf": 1.0, "feed_temperature_c": 25.0, "ultrapure_flow_kgh": 7500.0}, "UltraPure_Tank": {"component_id": "UltraPure_Tank", "initialized": true, "mass_kg": 15467.76586965896, "fill_level": 0.773388293482948, "temperature_c": 24.99997991418752, "pressure_bar": 1.01325, "control_zone": "B", "requested_production_kg_h": 10000.0, "total_demand_kg_h": 7412.984776857327, "total_allocated_kg_h": 7412.984776857327, "rationing_factor": 1.0, "overflow_kg": 0.0, "active_channels": ["SOEC", "PEM", "ATR"]}, "ATR_Feed_Pump": {"component_id": "ATR_Feed_Pump", "initialized": true, "pump_id": "ATR_Feed_Pump", "power_fluid_kw": 0.3105843725250588, "power_shaft_kw": 0.3269309184474304, "work_isentropic_kj_kg": 1.4023506199199574, "work_real_kj_kg": 1.7529382748999467, "calculated_temperature_c": 25.109726889488684, "flow_rate_kg_s": 0.1771792977381284, "cumulative_energy_kwh": 7.778419327333729, "cumulative_water_kg": 15536.029347771375, "specific_energy_kwh_per_kg": 0.0005006697112379963, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "SOEC_Transformer": {"component_id": "SOEC_Transformer", "initialized": true, "system_group": "SOEC", "efficiency": 0.95, "power_in_mw": 12.126315789473685, "power_out_mw": 11.52, "power_loss_mw": 0.606315789473685, "heat_loss_kw": 606.3157894736851, "load_factor": 0.72}, "PEM_Transformer": {"component_id": "PEM_Transformer", "initialized": true, "system_group": "PEM", "efficiency": 0.95, "power_in_mw": 5.2631578947368425, "power_out_mw": 5.0, "power_loss_mw": 0.2631578947368425, "heat_loss_kw": 263.1578947368425, "load_factor": 0.8333333333333334}, "BOP_Transformer": {"component_id": "BOP_Transformer", "initialized": true, "system_group": "BOP", "efficiency": 0.95, "power_in_mw": 0.0, "power_out_mw": 0.0, "power_loss_mw": 0.0, "heat_loss_kw": 0.0, "load_factor": 0.0}, "SOEC_Cluster": {"component_id": "SOEC_Cluster", "initialized": true, "total_power_mw": 11.52, "active_modules": 6, "total_h2_kg": 7269.748930151984, "module_powers": [1.92, 1.92, 1.92, 1.92, 1.92, 1.92], "module_states": [4, 4, 4, 4, 4, 4], "last_water_output_kg": 14.230722943971656, "required_flow_kg_h": 3393.527911350248, "target_steam_utilization": 0.8, "outlet_temp_c": 152.0, "outlet_pressure_bar": 1.0, "outlet_mass_flow_kg_h": 1158.6153704505314, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 152.15508174693792, "outlet_h2o_frac": 0.7369515357855814, "outlet_H2O_molf": 0.23922459126531054, "stack_efficiency_percent": 87.89842373335676, "system_efficiency_percent": 82.53373120502984, "energetic_efficiency_percent": 68.00113745342648}, "SOEC_H2_Interchanger_1": {"component_id": "SOEC_H2_Interchanger_1", "initialized": true, "q_transferred_kw": 38.06023761555826, "hot_out_temp_k": 401.75435546875, "cold_out_temp_k": 368.15, "outlet_mass_flow_kg_h": 1158.6146936280809, "outlet_entrained_mass_kg_h": 0.0, "hot_outlet_mass_flow_kg_h": 1158.6146936280809, "cold_outlet_mass_flow_kg_h": 515.4950836180903, "outlet_H2O_molf": 0.23922444700099763}, "SOEC_H2_DryCooler_1": {"component_id": "SOEC_H2_DryCooler_1", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 563.6626157163113, "dc_duty_kw": 560.7418049632574, "heat_rejected_kw": 560.7418049632574, "fan_power_kw": 17.610204081632652, "outlet_temp_c": 40.0, "glycol_hot_c": 37.05417678811699, "glycol_cold_c": 28.829127915688332, "tqc_effectiveness": 0.9962712419009649, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 417.6259545829988, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 152.15511059968355, "outlet_H2O_molf": 0.2392244470015823}, "SOEC_H2_KOD_1": {"component_id": "SOEC_H2_KOD_1", "initialized": true, "rho_g": 0.1128248625398833, "v_max": 7.531180898740501, "v_real": 2.6142439823445414, "separation_status": "OK", "power_consumption_w": 6570.31175169995, "dissolved_gas_kg_h": 0.000859833086173141, "total_drain_removed_kg": 14875.965533017634, "diameter_m": 0.8, "delta_p_bar": 0.05, "gas_species": "H2", "separation_efficiency": 0.97, "dissolved_gas_in_kg_h": 0.0009078097563799478, "dissolved_gas_out_kg_h": 0.000859833086173141, "dissolved_gas_in": 0.0009078097563799478, "dissolved_gas_out": 0.000859833086173141, "water_removed_kg_h": 624.7654102410079, "drain_temp_k": 313.15, "drain_pressure_bar": 0.9, "dissolved_gas_ppm": 1.3762495043402834, "m_dot_H2O_liq_accomp_kg_s": 0.0, "outlet_o2_ppm_mol": 184.43994675933476}, "SOEC_DRAIN_PUMP_1": {"component_id": "SOEC_DRAIN_PUMP_1", "initialized": true, "pump_id": "SOEC_DRAIN_PUMP_1", "power_fluid_kw": 0.0021249359860146997, "power_shaft_kw": 0.0022367747221207364, "work_isentropic_kj_kg": 0.00979538165751137, "work_real_kj_kg": 0.012244227071889213, "calculated_temperature_c": 40.000809762721246, "flow_rate_kg_s": 0.17354594728916886, "cumulative_energy_kwh": 0.05322140460254531, "cumulative_water_kg": 14865.552776180284, "specific_energy_kwh_per_kg": 3.5801833543535808e-06, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "SOEC_H2_Chiller_1": {"component_id": "SOEC_H2_Chiller_1", "initialized": true, "cooling_load_kw": 180.22059693221925, "sensible_heat_kw": 45.45007132612193, "latent_heat_kw": 134.77052560609732, "outlet_temp_k": 277.15, "outlet_pressure_bar": 0.7, "heat_rejected_kw": 206.35010043984033, "electrical_power_kw": 26.129503507621067, "timestep_energy_kwh": 0.4354917251270178, "cooling_water_flow_kg_h": 17771.77898524941, "cop": 6.897207093110483, "pressure_drop_bar": 0.2, "outlet_o2_ppm_mol": 184.43994675933476}, "SOEC_H2_KOD_2": {"component_id": "SOEC_H2_KOD_2", "initialized": true, "rho_g": 0.06262528379649043, "v_max": 10.108844922476937, "v_real": 5.317974310842777, "separation_status": "OK", "power_consumption_w": 7518.10906211531, "dissolved_gas_kg_h": 0.00016848769699292842, "total_drain_removed_kg": 4644.661283527268, "diameter_m": 0.6, "delta_p_bar": 0.05, "gas_species": "H2", "separation_efficiency": 0.97, "dissolved_gas_in_kg_h": 0.00018152353774396844, "dissolved_gas_out_kg_h": 0.00016848769699292842, "dissolved_gas_in": 0.00018152353774396844, "dissolved_gas_out": 0.00016848769699292842, "water_removed_kg_h": 194.78162251454106, "drain_temp_k": 277.15, "drain_pressure_bar": 0.65, "dissolved_gas_ppm": 0.8650081810482418, "m_dot_H2O_liq_accomp_kg_s": 0.0, "outlet_o2_ppm_mol": 197.5053655601146}, "SOEC_DRAIN_PUMP_2": {"component_id": "SOEC_DRAIN_PUMP_2", "initialized": true, "pump_id": "SOEC_DRAIN_PUMP_2", "power_fluid_kw": 0.0023414007276857524, "power_shaft_kw": 0.002464632344932371, "work_isentropic_kj_kg": 0.03461945746566997, "work_real_kj_kg": 0.04327432183208746, "calculated_temperature_c": 4.00195158265069, "flow_rate_kg_s": 0.05410600625402818, "cumulative_energy_kwh": 0.058729264076237304, "cumulative_water_kg": 4641.414923152026, "specific_energy_kwh_per_kg": 1.2653310477218387e-05, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "SOEC_H2_Cyclone_1": {"component_id": "SOEC_H2_Cyclone_1", "initialized": true, "d50_microns": 3.6116780029464244, "pressure_drop_mbar": 0.7350114761089719, "pressure_drop_pa": 73.50114761089719, "active_tubes": 34, "axial_velocity_ms": 21.976647261643308, "tangential_velocity_ms": 21.976647261643304, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 197.51072975303495, "dissolved_gas_in_kg_h": 6.525143183149347e-08, "dissolved_gas_out_kg_h": 6.452585220229647e-08, "dissolved_gas_in": 6.525143183149347e-08, "dissolved_gas_out": 6.452585220229647e-08, "water_removed_kg_h": 0.07467807438526791, "drain_temp_k": 277.15, "drain_pressure_bar": 0.649264988523891, "dissolved_gas_ppm": 0.8640535087903362}, "SOEC_H2_Boiler": {"component_id": "SOEC_H2_Boiler", "initialized": true, "power_input_w": 14901.430352128105, "power_input_kw": 14.901430352128106, "outlet_temp_c": 14.999697356255979, "outlet_temp_k": 288.14969735625596, "vapor_fraction": 0.0, "phase": "gas", "total_energy_kwh": 354.8350450552499, "target_temp_c": 15.0}, "SOEC_H2_Compressor_S1": {"component_id": "SOEC_H2_Compressor_S1", "initialized": true, "mode": 1, "power_kw": 191.95878422726312, "transfer_mass_kg": 5.649894328086074, "actual_mass_transferred_kg": 5.649894328086056, "outlet_o2_ppm_mol": 197.5107297530349, "compression_work_kwh": 3.1993130704543855, "energy_consumed_kwh": 3.1993130704543855, "specific_energy_kwh_kg": 0.5662606917354819, "outlet_temperature_c": 134.92783538816997, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 4567.751113126754, "cumulative_mass_kg": 8066.51684827776, "timestep_energy_kwh": 3.1993130704543855, "cumulative_specific_kwh_kg": 0.5662606548825334, "inlet_pressure_bar": 0.649264988523891, "outlet_pressure_bar": 1.7078290721419584, "target_outlet_pressure_bar": 200.0, "inlet_temperature_c": 14.999697356255979, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_1": {"component_id": "SOEC_H2_Intercooler_1", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 116.25954679647182, "dc_duty_kw": 627.0865558795799, "heat_rejected_kw": 627.0865558795799, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.934301975924313, "glycol_cold_c": 25.93210990734326, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 197.51072975303492, "outlet_H2O_molf": 0.012446351234825598}, "SOEC_H2_Compressor_S2": {"component_id": "SOEC_H2_Compressor_S2", "initialized": true, "mode": 1, "power_kw": 133.87368418657766, "transfer_mass_kg": 5.649894328086056, "actual_mass_transferred_kg": 5.64989432877204, "outlet_o2_ppm_mol": 197.51072975303492, "compression_work_kwh": 2.2312280697762943, "energy_consumed_kwh": 2.2312280697762943, "specific_energy_kwh_kg": 0.39491500901420123, "outlet_temperature_c": 134.89268303994567, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 3181.126058639606, "cumulative_mass_kg": 8055.217059621588, "timestep_energy_kwh": 2.2312280697762943, "cumulative_specific_kwh_kg": 0.39491500168079224, "inlet_pressure_bar": 1.6578290721419584, "outlet_pressure_bar": 3.1740862076834215, "target_outlet_pressure_bar": 200.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_2": {"component_id": "SOEC_H2_Intercooler_2", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 116.21651230045325, "dc_duty_kw": 627.0571932512759, "heat_rejected_kw": 627.0571932512759, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.934164580508252, "glycol_cold_c": 25.93206626233689, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 197.5107297530349, "outlet_H2O_molf": 0.012446351234825594}, "SOEC_H2_Cyclone_2": {"component_id": "SOEC_H2_Cyclone_2", "initialized": true, "d50_microns": 3.6111174009673648, "pressure_drop_mbar": 3.125412448839019, "pressure_drop_pa": 312.5412448839019, "active_tubes": 8, "axial_velocity_ms": 21.987999841339597, "tangential_velocity_ms": 21.987999841339594, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 197.5107297530349, "dissolved_gas_in_kg_h": 0.0, "dissolved_gas_out_kg_h": 0.0, "dissolved_gas_in": 0.0, "dissolved_gas_out": 0.0, "water_removed_kg_h": 0.0, "drain_temp_k": 313.15, "drain_pressure_bar": 3.1209607952347582, "dissolved_gas_ppm": 0.0}, "SOEC_H2_Compressor_S3": {"component_id": "SOEC_H2_Compressor_S3", "initialized": true, "mode": 1, "power_kw": 134.1181556910581, "transfer_mass_kg": 5.649894328086058, "actual_mass_transferred_kg": 5.649894328086056, "outlet_o2_ppm_mol": 197.5107297530349, "compression_work_kwh": 2.235302594850968, "energy_consumed_kwh": 2.235302594850968, "specific_energy_kwh_kg": 0.39563617743063056, "outlet_temperature_c": 134.99051265858992, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 3180.2275479761915, "cumulative_mass_kg": 8038.267376635983, "timestep_energy_kwh": 2.235302594850968, "cumulative_specific_kwh_kg": 0.3956359497595012, "inlet_pressure_bar": 3.1209607952347582, "outlet_pressure_bar": 5.977893874515334, "target_outlet_pressure_bar": 200.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_3": {"component_id": "SOEC_H2_Intercooler_3", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 116.33632570885446, "dc_duty_kw": 627.1389467498636, "heat_rejected_kw": 627.1389467498636, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.934547126506402, "glycol_cold_c": 25.932187781838877, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 197.51072975303492, "outlet_H2O_molf": 0.012446351234825601}, "SOEC_H2_Cyclone_3": {"component_id": "SOEC_H2_Cyclone_3", "initialized": true, "d50_microns": 3.9298081570959145, "pressure_drop_mbar": 4.223500067037284, "pressure_drop_pa": 422.3500067037284, "active_tubes": 5, "axial_velocity_ms": 18.570812717536317, "tangential_velocity_ms": 18.570812717536313, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 197.5107297530349, "dissolved_gas_in_kg_h": 0.0, "dissolved_gas_out_kg_h": 0.0, "dissolved_gas_in": 0.0, "dissolved_gas_out": 0.0, "water_removed_kg_h": 0.0, "drain_temp_k": 313.15, "drain_pressure_bar": 5.923670374448296, "dissolved_gas_ppm": 0.0}, "SOEC_H2_Compressor_S4": {"component_id": "SOEC_H2_Compressor_S4", "initialized": true, "mode": 1, "power_kw": 134.22450171281295, "transfer_mass_kg": 5.649894328086058, "actual_mass_transferred_kg": 5.649894328086058, "outlet_o2_ppm_mol": 197.5107297530349, "compression_work_kwh": 2.2370750285468826, "energy_consumed_kwh": 2.2370750285468826, "specific_energy_kwh_kg": 0.39594988837688716, "outlet_temperature_c": 134.9225385803914, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 3176.043167407612, "cumulative_mass_kg": 8021.3176743678205, "timestep_energy_kwh": 2.2370750285468826, "cumulative_specific_kwh_kg": 0.39595030347154575, "inlet_pressure_bar": 5.923670374448296, "outlet_pressure_bar": 11.337054324575076, "target_outlet_pressure_bar": 200.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_4": {"component_id": "SOEC_H2_Intercooler_4", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 127.16876562743207, "dc_duty_kw": 637.9978314970327, "heat_rejected_kw": 637.9978314970327, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.934281325460745, "glycol_cold_c": 25.93210334752024, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 10.915688806068964, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 197.51072975303492, "outlet_H2O_molf": 0.012446351234825598}, "SOEC_H2_Cyclone_4": {"component_id": "SOEC_H2_Cyclone_4", "initialized": true, "d50_microns": 4.092543162395413, "pressure_drop_mbar": 6.493163546351782, "pressure_drop_pa": 649.3163546351782, "active_tubes": 3, "axial_velocity_ms": 17.130340558732854, "tangential_velocity_ms": 17.13034055873285, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 198.67910478383942, "dissolved_gas_in_kg_h": 0.0003036834747289319, "dissolved_gas_out_kg_h": 0.00030045573132984616, "dissolved_gas_in": 0.0003036834747289319, "dissolved_gas_out": 0.00030045573132984616, "water_removed_kg_h": 16.169827540829342, "drain_temp_k": 313.15, "drain_pressure_bar": 11.280561161028723, "dissolved_gas_ppm": 18.58125762758976}, "SOEC_H2_Compressor_S5": {"component_id": "SOEC_H2_Compressor_S5", "initialized": true, "mode": 1, "power_kw": 132.6413368796124, "transfer_mass_kg": 5.3804022100010895, "actual_mass_transferred_kg": 5.380402210010576, "outlet_o2_ppm_mol": 198.67910478383942, "compression_work_kwh": 2.21068894799354, "energy_consumed_kwh": 2.21068894799354, "specific_energy_kwh_kg": 0.41087800906044053, "outlet_temperature_c": 134.97624463640307, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 3131.9459487516237, "cumulative_mass_kg": 7622.573096353598, "timestep_energy_kwh": 2.21068894799354, "cumulative_specific_kwh_kg": 0.41087778485848164, "inlet_pressure_bar": 11.280561161028723, "outlet_pressure_bar": 21.370785063795935, "target_outlet_pressure_bar": 200.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_5": {"component_id": "SOEC_H2_Intercooler_5", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 121.16784356277789, "dc_duty_kw": 632.1577351301734, "heat_rejected_kw": 632.1577351301734, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.931611520258002, "glycol_cold_c": 25.931255257616556, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 5.6461536708733435, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 198.6791047838394, "outlet_H2O_molf": 0.006604476080803031}, "SOEC_H2_Cyclone_5": {"component_id": "SOEC_H2_Cyclone_5", "initialized": true, "d50_microns": 4.52094238188618, "pressure_drop_mbar": 7.98745802853361, "pressure_drop_pa": 798.745802853361, "active_tubes": 2, "axial_velocity_ms": 14.048403909805842, "tangential_velocity_ms": 14.04840390980584, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 199.30071486243202, "dissolved_gas_in_kg_h": 0.00030339316347442264, "dissolved_gas_out_kg_h": 0.00030023721877508086, "dissolved_gas_in": 0.00030339316347442264, "dissolved_gas_out": 0.00030023721877508086, "water_removed_kg_h": 8.525703591877738, "drain_temp_k": 313.15, "drain_pressure_bar": 21.312797605767454, "dissolved_gas_ppm": 35.215535649293585}, "SOEC_H2_Compressor_S6": {"component_id": "SOEC_H2_Compressor_S6", "initialized": true, "mode": 1, "power_kw": 132.24729310461942, "transfer_mass_kg": 5.2383121540901065, "actual_mass_transferred_kg": 5.238312154090107, "outlet_o2_ppm_mol": 199.30071486243202, "compression_work_kwh": 2.2041215517436568, "energy_consumed_kwh": 2.2041215517436568, "specific_energy_kwh_kg": 0.42076941711514165, "outlet_temperature_c": 134.94622102345096, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 3116.0295184524366, "cumulative_mass_kg": 7405.56454957037, "timestep_energy_kwh": 2.2041215517436568, "cumulative_specific_kwh_kg": 0.42076866626369647, "inlet_pressure_bar": 21.312797605767454, "outlet_pressure_bar": 40.11561395494658, "target_outlet_pressure_bar": 41.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_H2_Intercooler_6": {"component_id": "SOEC_H2_Intercooler_6", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 118.02624205730955, "dc_duty_kw": 629.1226593774786, "heat_rejected_kw": 629.1226593774786, "fan_power_kw": 316.9836734693877, "outlet_temp_c": 40.0, "glycol_hot_c": 27.929990345035492, "glycol_cold_c": 25.930740275348626, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968885, "latent_heat_kw": 2.9575375515438833, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 199.30071486243196, "outlet_H2O_molf": 0.003496425687840152}, "SOEC_H2_Deoxo_1": {"component_id": "SOEC_H2_Deoxo_1", "initialized": true, "conversion_o2_percent": 99.99999999575873, "conversion_percent": 99.99999999575873, "peak_temperature_c": 41.75398812236489, "t_peak_total_c": 41.75398812236489, "pressure_drop_mbar": 321.0529935118316, "inlet_temp_c": 40.0, "inlet_pressure_bar": 40.065613954946585, "mass_flow_kg_h": 314.2987292454732, "outlet_o2_ppm_mol": 8.4545861636737e-09, "delta_t_ad_k": 1.6359073104440967, "delta_t_real_k": 1.7539881223648877, "t_zone_outlets_c": [41.79774234384314], "o2_in_kg_h": 0.9646586233776736, "o2_out_slip_kg_h": 4.0913880138515324e-11, "o2_consumed_kg_h": 0.9646586233367598, "h2_consumed_kg_h": 0.12154698654043174, "h2o_generated_kg_h": 1.086145318713233}, "SOEC_H2_Chiller_2": {"component_id": "SOEC_H2_Chiller_2", "initialized": true, "cooling_load_kw": 49.750135710723605, "sensible_heat_kw": 45.91498296411298, "latent_heat_kw": 3.8351527466106243, "outlet_temp_k": 277.15, "outlet_pressure_bar": 39.544560961434755, "heat_rejected_kw": 56.96321994019647, "electrical_power_kw": 7.213084229472865, "timestep_energy_kwh": 0.12021807049121441, "cooling_water_flow_kg_h": 4905.923248437974, "cop": 6.897207093110483, "pressure_drop_bar": 0.2, "outlet_o2_ppm_mol": 8.454586163673699e-09}, "SOEC_H2_Cyclone_6": {"component_id": "SOEC_H2_Cyclone_6", "initialized": true, "d50_microns": 4.539849278591225, "pressure_drop_mbar": 15.812549623680761, "pressure_drop_pa": 1581.2549623680761, "active_tubes": 1, "axial_velocity_ms": 13.955352462910025, "tangential_velocity_ms": 13.955352462910023, "separation_efficiency": 0.99, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 8.485585477920615e-09, "dissolved_gas_in_kg_h": 0.0005357225793591355, "dissolved_gas_out_kg_h": 0.000530133643390667, "dissolved_gas_in": 0.0005357225793591355, "dissolved_gas_out": 0.000530133643390667, "water_removed_kg_h": 9.953045944366105, "drain_temp_k": 277.15, "drain_pressure_bar": 39.52874841181107, "dissolved_gas_ppm": 53.26345787550069}, "SOEC_H2_Coalescer_2": {"component_id": "SOEC_H2_Coalescer_2", "initialized": true, "d_shell_m": 0.3, "l_elem_m": 1.0, "gas_type": "H2", "total_liquid_removed_kg": 2.335609291406863, "total_drain_removed_kg": 2.335733708837977, "step_gas_dissolved_kg_h": 5.247787581038949e-06, "delta_p_bar": 0.5824060708162125, "power_loss_w": 1420.9606549359341, "outlet_flow_kg_h": 304.24768833341625, "drain_flow_kg_h": 0.09852510126746289, "dissolved_gas_in_kg_h": 5.355083617862341e-06, "dissolved_gas_out_kg_h": 5.247787581038949e-06, "dissolved_gas_in": 5.355083617862341e-06, "dissolved_gas_out": 5.247787581038949e-06, "water_removed_kg_h": 0.09852510126746289, "drain_temp_k": 277.15, "drain_pressure_bar": 38.94634234099486, "dissolved_gas_ppm": 53.263457875500684, "outlet_o2_ppm_mol": 8.485893474092528e-09}, "SOEC_H2_ElectricBoiler_PSA": {"component_id": "SOEC_H2_ElectricBoiler_PSA", "initialized": true, "power_input_w": 44240.830870517304, "power_input_kw": 44.24083087051731, "outlet_temp_c": 39.992655406521294, "outlet_temp_k": 313.14265540652127, "vapor_fraction": 0.0, "phase": "gas", "total_energy_kwh": 1038.7232302707644, "target_temp_c": 40.0}, "SOEC_H2_PSA_1": {"component_id": "SOEC_H2_PSA_1", "initialized": true, "product_flow_kg_h": 273.3303449769562, "tail_gas_flow_kg_h": 30.917343393788258, "cycle_position": 0.4, "power_consumption_kw": 95.16990969816082, "outlet_o2_ppm_mol": 2.291319386616908e-10, "h2_in_kg_h": 303.6851982513054, "h2_product_kg_h": 273.31667845970736, "h2_tail_loss_kg_h": 30.368519828856392, "h2_recovery_actual": 0.8999999999877312}, "SOEC_O2_Interchanger_1": {"component_id": "SOEC_O2_Interchanger_1", "initialized": true, "q_transferred_kw": 17.14571144316317, "hot_out_temp_k": 398.0992187500001, "cold_out_temp_k": 353.15, "outlet_mass_flow_kg_h": 2412.8405485670296, "outlet_entrained_mass_kg_h": 0.0, "hot_outlet_mass_flow_kg_h": 2412.8405485670296, "cold_outlet_mass_flow_kg_h": 304.0519491610676, "outlet_H2O_molf": 0.0}, "SOEC_O2_Drycooler_1": {"component_id": "SOEC_O2_Drycooler_1", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 58.63522988138348, "dc_duty_kw": 50.25543188089108, "heat_rejected_kw": 50.25543188089108, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 44.78635891885784, "glycol_cold_c": 30.345142861130512, "tqc_effectiveness": 0.9989457698584056, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 996000.0, "outlet_H2O_molf": 0.0}, "SOEC_O2_compressor_1": {"component_id": "SOEC_O2_compressor_1", "initialized": true, "mode": 1, "power_kw": 73.15098179067546, "transfer_mass_kg": 40.0, "actual_mass_transferred_kg": 40.0, "outlet_o2_ppm_mol": 996000.0, "compression_work_kwh": 1.219183029844591, "energy_consumed_kwh": 1.219183029844591, "specific_energy_kwh_kg": 0.030479575746114772, "outlet_temperature_c": 134.99097198286097, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1746.7829536621975, "cumulative_mass_kg": 57309.94972542898, "timestep_energy_kwh": 1.219183029844591, "cumulative_specific_kwh_kg": 0.030479575746113995, "inlet_pressure_bar": 0.95, "outlet_pressure_bar": 1.963616943359375, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_O2_Drycooler_2": {"component_id": "SOEC_O2_Drycooler_2", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 64.49140103627244, "dc_duty_kw": 54.521236628673435, "heat_rejected_kw": 54.521236628673435, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 46.46587376249573, "glycol_cold_c": 30.798851742761997, "tqc_effectiveness": 0.9989893145564156, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 996000.0, "outlet_H2O_molf": 0.0}, "SOEC_O2_compressor_2": {"component_id": "SOEC_O2_compressor_2", "initialized": true, "mode": 1, "power_kw": 73.12109950202935, "transfer_mass_kg": 40.0, "actual_mass_transferred_kg": 40.0, "outlet_o2_ppm_mol": 996000.0, "compression_work_kwh": 1.2186849917004892, "energy_consumed_kwh": 1.2186849917004892, "specific_energy_kwh_kg": 0.03046712479251223, "outlet_temperature_c": 134.97228283975858, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1743.6320201538174, "cumulative_mass_kg": 57229.94972542898, "timestep_energy_kwh": 1.2186849917004892, "cumulative_specific_kwh_kg": 0.030467124792511735, "inlet_pressure_bar": 1.913616943359375, "outlet_pressure_bar": 3.955169378221035, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_O2_Drycooler_3": {"component_id": "SOEC_O2_Drycooler_3", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 64.47992110614057, "dc_duty_kw": 54.51286638751825, "heat_rejected_kw": 54.51286638751825, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 46.462578266078026, "glycol_cold_c": 30.797961488055535, "tqc_effectiveness": 0.9989893145564156, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 996000.0, "outlet_H2O_molf": 0.0}, "SOEC_O2_compressor_3": {"component_id": "SOEC_O2_compressor_3", "initialized": true, "mode": 1, "power_kw": 73.06900229759569, "transfer_mass_kg": 40.0, "actual_mass_transferred_kg": 40.0, "outlet_o2_ppm_mol": 996000.0, "compression_work_kwh": 1.217816704959928, "energy_consumed_kwh": 1.217816704959928, "specific_energy_kwh_kg": 0.0304454176239982, "outlet_temperature_c": 134.945251040585, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1739.9540865811473, "cumulative_mass_kg": 57149.94972542898, "timestep_energy_kwh": 1.217816704959928, "cumulative_specific_kwh_kg": 0.030445417623997512, "inlet_pressure_bar": 3.905169378221035, "outlet_pressure_bar": 8.071148259152688, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_O2_Drycooler_4": {"component_id": "SOEC_O2_Drycooler_4", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 64.46331664417292, "dc_duty_kw": 54.50075975016729, "heat_rejected_kw": 54.50075975016729, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 46.4578116913425, "glycol_cold_c": 30.79667383209903, "tqc_effectiveness": 0.9989893145564156, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 996000.0, "outlet_H2O_molf": 0.0}, "SOEC_O2_compressor_4": {"component_id": "SOEC_O2_compressor_4", "initialized": true, "mode": 1, "power_kw": 61.99399736061767, "transfer_mass_kg": 40.0, "actual_mass_transferred_kg": 40.0, "outlet_o2_ppm_mol": 996000.0, "compression_work_kwh": 1.0332332893436278, "energy_consumed_kwh": 1.0332332893436278, "specific_energy_kwh_kg": 0.025830832233590697, "outlet_temperature_c": 119.31321141518112, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1474.1642969370141, "cumulative_mass_kg": 57069.94972542898, "timestep_energy_kwh": 1.0332332893436278, "cumulative_specific_kwh_kg": 0.025830832233590742, "inlet_pressure_bar": 8.021148259152687, "outlet_pressure_bar": 15.0, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "SOEC_Drain_Mixer": {"component_id": "SOEC_Drain_Mixer", "initialized": true, "outlet_mass_kg_h": 819.5469525514934, "outlet_temp_k": 304.6514654381382, "total_mass_kg": {"SOEC_DRAIN_PUMP_1": 14855.140019342934, "SOEC_DRAIN_PUMP_2": 4638.168562776785}, "history_length": 1440, "outlet_mass_flow_kg_h": 819.5469525514934, "outlet_temperature_c": 31.50146543813821, "outlet_temperature_k": 304.6514654381382, "outlet_pressure_kpa": 100.0, "dissolved_gas_ppm": 1.2547428424739182}, "SOEC_Drain_Pump": {"component_id": "SOEC_Drain_Pump", "initialized": true, "pump_id": "SOEC_Drain_Pump", "power_fluid_kw": 0.006082978384531284, "power_shaft_kw": 0.0064031351416118775, "work_isentropic_kj_kg": 0.02137641535452417, "work_real_kj_kg": 0.026720519193155212, "calculated_temperature_c": 31.50343314547291, "flow_rate_kg_s": 0.22765195318845124, "cumulative_energy_kwh": 0.16175392195116764, "cumulative_water_kg": 19479.649466244115, "specific_energy_kwh_per_kg": 8.303738844555068e-06, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "SOEC_Interchanger_Splitter": {"component_id": "SOEC_Interchanger_Splitter", "initialized": true, "split_ratio": 0.629, "flow_in_kg_h": 819.5470315252546, "flow_out1_kg_h": 515.4950828293852, "flow_out2_kg_h": 304.05194869586944, "temperature_k": 304.6534331454729, "pressure_pa": 120000.0}, "SOEC_Interchanger_Drain_Combiner": {"component_id": "SOEC_Interchanger_Drain_Combiner", "initialized": true, "temperature_k": 275.0, "pressure_pa": 120000.0, "total_moles": 0.0, "vapor_fraction": 1.0}, "SOEC_Makeup_Mixer": {"component_id": "SOEC_Makeup_Mixer", "initialized": true, "target_flow_kg_h": 3600.0, "current_target_kg_h": 3600.0, "current_demand_kg_h": 2780.5000643621497, "actual_makeup_kg_h": 2780.4529672534195, "actual_drain_kg_h": 819.4999356378505, "outlet_flow_kg_h": 3599.9529028912702, "outlet_temp_c": 19.796773951891055}, "SOEC_Water_Splitter": {"component_id": "SOEC_Water_Splitter", "initialized": true, "split_ratio": 0.9212, "flow_in_kg_h": 3599.954629809429, "flow_out1_kg_h": 3316.2782049804464, "flow_out2_kg_h": 283.67642482898293, "temperature_k": 292.9467652323663, "pressure_pa": 100000.0}, "SOEC_Steam_Boiler": {"component_id": "SOEC_Steam_Boiler", "initialized": true, "power_input_w": 0.0, "power_input_kw": 0.0, "outlet_temp_c": 109.60555960895118, "outlet_temp_k": 382.75555960895116, "vapor_fraction": 1.0, "phase": "gas", "total_energy_kwh": 635.6282378360598, "target_temp_c": 105.0}, "SOEC_Steam_Compressor_1": {"component_id": "SOEC_Steam_Compressor_1", "initialized": true, "mode": 1, "power_kw": 302.91931005900767, "transfer_mass_kg": 55.272, "actual_mass_transferred_kg": 55.272, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 5.048655167650128, "energy_consumed_kwh": 5.048655167650128, "specific_energy_kwh_kg": 0.09134200259896742, "outlet_temperature_c": 259.904516952227, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 7239.754731926303, "cumulative_mass_kg": 79259.86431140515, "timestep_energy_kwh": 5.048655167650128, "cumulative_specific_kwh_kg": 0.09134200259896905, "inlet_pressure_bar": 1.0, "outlet_pressure_bar": 2.64453125, "target_outlet_pressure_bar": 5.0, "inlet_temperature_c": 109.60555960895118, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 260.0}, "SOEC_Steam_Drycooler": {"component_id": "SOEC_Steam_Drycooler", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 188.31391628951664, "dc_duty_kw": 259.2390640783956, "heat_rejected_kw": 259.2390640783956, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 150.0, "glycol_hot_c": 127.06652247663408, "glycol_cold_c": 52.57253854606063, "tqc_effectiveness": 0.8700526613716066, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 1.0}, "SOEC_Steam_Compressor_2": {"component_id": "SOEC_Steam_Compressor_2", "initialized": true, "mode": 1, "power_kw": 215.07954547070514, "transfer_mass_kg": 55.27199999971482, "actual_mass_transferred_kg": 55.27199999981006, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 3.584659091178419, "energy_consumed_kwh": 3.584659091178419, "specific_energy_kwh_kg": 0.06485488296408194, "outlet_temperature_c": 255.70956477630318, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 5133.219905482835, "cumulative_mass_kg": 79149.32031140543, "timestep_energy_kwh": 3.584659091178419, "cumulative_specific_kwh_kg": 0.06485488296408197, "inlet_pressure_bar": 2.59453125, "outlet_pressure_bar": 5.0, "target_outlet_pressure_bar": 5.0, "inlet_temperature_c": 150.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 260.0}, "SOEC_Feed_Pump": {"component_id": "SOEC_Feed_Pump", "initialized": true, "pump_id": "SOEC_Feed_Pump", "power_fluid_kw": 0.06184919338585441, "power_shaft_kw": 0.06510441409037307, "work_isentropic_kj_kg": 0.6279105927513484, "work_real_kj_kg": 0.7848882409391855, "calculated_temperature_c": 19.87228830358515, "flow_rate_kg_s": 0.07879999999980454, "cumulative_energy_kwh": 1.1323958542546535, "cumulative_water_kg": 6789.392287167617, "specific_energy_kwh_per_kg": 0.0001667889858706432, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "SOEC_Feed_Attemperator": {"component_id": "SOEC_Feed_Attemperator", "initialized": true, "water_injected_kg_h": 252.34570571849753, "outlet_temp_k": 430.05, "is_saturated": false, "steam_velocity_m_s": 22.179191371139517, "residence_time_s": 0.12087295453314048, "volume_m3": 0.05}, "PEM_H2_Drain_Mixer": {"component_id": "PEM_H2_Drain_Mixer", "initialized": true, "outlet_mass_kg_h": 83.00836592891687, "outlet_temp_k": 331.4487581467237, "total_mass_kg": {"PEM_H2_KOD_1": 1883.703401085258, "PEM_H2_Cyclone_1": 82.3203872989829, "PEM_H2_Cyclone_2": 6.916365322014712}, "history_length": 1440, "outlet_mass_flow_kg_h": 83.00836592891687, "outlet_temperature_c": 58.29875814672374, "outlet_temperature_k": 331.4487581467237, "outlet_pressure_kpa": 3970.821395626517, "dissolved_gas_ppm": 71.68464764929192}, "PEM_O2_Drain_Mixer": {"component_id": "PEM_O2_Drain_Mixer", "initialized": true, "outlet_mass_kg_h": 3138.979189271425, "outlet_temp_k": 333.9525866984716, "total_mass_kg": {"PEM_O2_KOD_1": 75096.64522972504, "PEM_O2_Cyclone_1": 37.65883116704328}, "history_length": 1440, "outlet_mass_flow_kg_h": 3138.979189271425, "outlet_temperature_c": 60.8025866984716, "outlet_temperature_k": 333.9525866984716, "outlet_pressure_kpa": 3969.5101803744806, "dissolved_gas_ppm": 2945.9817598593545}, "PEM_Water_Return_Valve_1": {"component_id": "PEM_Water_Return_Valve_1", "initialized": true, "inlet_pressure_bar": 39.70821395626517, "outlet_pressure_bar": 4.0, "flow_rate_kg_h": 83.00836592891687, "delta_T_K": 0.719451904296875}, "PEM_Degasser_1": {"component_id": "PEM_Degasser_1", "initialized": true, "gas_flow_kg_h": 79.24573519782324, "liquid_flow_kg_h": 3.7626307310936267}, "PEM_Water_Return_Valve_2": {"component_id": "PEM_Water_Return_Valve_2", "initialized": true, "inlet_pressure_bar": 39.695101803744805, "outlet_pressure_bar": 4.0, "flow_rate_kg_h": 3138.979189271425, "delta_T_K": 0.7144927978515625}, "PEM_Degasser_2": {"component_id": "PEM_Degasser_2", "initialized": true, "gas_flow_kg_h": 3137.382787567519, "liquid_flow_kg_h": 1.596401703906401}, "PEM_Drains_Combiner": {"component_id": "PEM_Drains_Combiner", "initialized": true, "temperature_k": 332.9127479281357, "pressure_pa": 400000.00000000006, "total_moles": 0.0, "vapor_fraction": 1.0}, "PEM_Makeup_Mixer": {"component_id": "PEM_Makeup_Mixer", "initialized": true, "target_flow_kg_h": 4000.0, "current_target_kg_h": 4000.0, "current_demand_kg_h": 3994.6409675649998, "actual_makeup_kg_h": 3994.6409675649998, "actual_drain_kg_h": 5.359032435000028, "outlet_flow_kg_h": 4000.0, "outlet_temp_c": 25.123107757045602}, "PEM_Water_Pump": {"component_id": "PEM_Water_Pump", "initialized": true, "pump_id": "PEM_Water_Pump", "power_fluid_kw": 5.2519904835969715, "power_shaft_kw": 5.528411035365234, "work_isentropic_kj_kg": 3.7814331481898193, "work_real_kj_kg": 4.726791435237274, "calculated_temperature_c": 25.306659049599602, "flow_rate_kg_s": 1.1111111111111112, "cumulative_energy_kwh": 132.89314885353795, "cumulative_water_kg": 95799.96859308425, "specific_energy_kwh_per_kg": 0.001387194075376048, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "PEM_Electrolyzer": {"component_id": "PEM_Electrolyzer", "initialized": true, "h2_production_kg_h": 88.69675009568792, "o2_production_kg_h": 703.8984646730709, "h2_output_kg": 1.4782791682614653, "o2_output_kg": 11.731641077884515, "water_consumption_kg": 13.20992024614598, "power_consumption_mw": 5.00024345342998, "heat_output_kw": 1235.0908957569072, "system_efficiency_percent": 59.12237490479374, "stack_efficiency_percent": 63.0637878351239, "cell_voltage_v": 1.9820829519071923, "state": "ON", "cumulative_h2_kg": 2111.319810991114, "cumulative_o2_kg": 16755.459154785076, "cumulative_energy_kwh": 118956.29697143631, "o2_impurity_ppm_mol": 181.89257432973145, "required_flow_kg_h": 4755.571288612553, "target_stoichiometry": 6.0, "h2o_consumption_rate": 792.5952147687588}, "PEM_H2_KOD_1": {"component_id": "PEM_H2_KOD_1", "initialized": true, "rho_g": 2.9661441465695306, "v_max": 1.4667254018262876, "v_real": 0.04230415880418465, "separation_status": "OK", "power_consumption_w": 41.53201078610077, "dissolved_gas_kg_h": 0.005748278023600017, "total_drain_removed_kg": 1885.0241599694311, "diameter_m": 0.5, "delta_p_bar": 0.05, "gas_species": "H2", "separation_efficiency": 0.97, "dissolved_gas_in_kg_h": 0.00575705536255127, "dissolved_gas_out_kg_h": 0.005748278023600017, "dissolved_gas_in": 0.00575705536255127, "dissolved_gas_out": 0.005748278023600017, "water_removed_kg_h": 79.2455330503833, "drain_temp_k": 333.15, "drain_pressure_bar": 39.95, "dissolved_gas_ppm": 72.5375652397383, "m_dot_H2O_liq_accomp_kg_s": 0.0, "outlet_o2_ppm_mol": 199.98231092654564}, "PEM_H2_DryCooler_1": {"component_id": "PEM_H2_DryCooler_1", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 12.159549527598323, "dc_duty_kw": 39.361439027005254, "heat_rejected_kw": 39.361439027005254, "fan_power_kw": 17.610204081632652, "outlet_temp_c": 30.0, "glycol_hot_c": 28.145719410251104, "glycol_cold_c": 25.999268736508782, "tqc_effectiveness": 0.9999999999997488, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 2.013197303888844, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 199.98231092654564, "outlet_H2O_molf": 0.005008830194788009}, "PEM_H2_Chiller_1": {"component_id": "PEM_H2_Chiller_1", "initialized": true, "cooling_load_kw": 9.300699566356508, "sensible_heat_kw": 8.850574192259984, "latent_heat_kw": 0.4501253740965248, "outlet_temp_k": 277.15, "outlet_pressure_bar": 39.9, "heat_rejected_kw": 11.323409506945396, "electrical_power_kw": 2.022709940588888, "timestep_energy_kwh": 0.03371183234314813, "cooling_water_flow_kg_h": 975.2218714115653, "cop": 4.598138062073655, "pressure_drop_bar": 0.0, "outlet_o2_ppm_mol": 199.98231092654564}, "PEM_H2_Cyclone_1": {"component_id": "PEM_H2_Cyclone_1", "initialized": true, "d50_microns": 8.63660487741653, "pressure_drop_mbar": 1.221559302126256, "pressure_drop_pa": 122.1559302126256, "active_tubes": 1, "axial_velocity_ms": 3.8561590433920294, "tangential_velocity_ms": 3.856159043392029, "separation_efficiency": 0.95, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 200.89935241593733, "dissolved_gas_in_kg_h": 0.00019637175203037955, "dissolved_gas_out_kg_h": 0.00018650243014173672, "dissolved_gas_in": 0.00019637175203037955, "dissolved_gas_out": 0.00018650243014173672, "water_removed_kg_h": 3.4704369061964035, "drain_temp_k": 277.15, "drain_pressure_bar": 39.898778440697875, "dissolved_gas_ppm": 53.740331601689675}, "PEM_H2_Coalescer_1": {"component_id": "PEM_H2_Coalescer_1", "initialized": true, "d_shell_m": 0.32, "l_elem_m": 1.0, "gas_type": "H2", "total_liquid_removed_kg": 4.2457707423901, "total_drain_removed_kg": 4.245998923842178, "step_gas_dissolved_kg_h": 9.619599028363258e-06, "delta_p_bar": 0.14178146974714614, "power_loss_w": 95.81349045305711, "outlet_flow_kg_h": 85.0614866358841, "drain_flow_kg_h": 0.17900148253013023, "dissolved_gas_in_kg_h": 9.81828700034057e-06, "dissolved_gas_out_kg_h": 9.619599028363258e-06, "dissolved_gas_in": 9.81828700034057e-06, "dissolved_gas_out": 9.619599028363258e-06, "water_removed_kg_h": 0.17900148253013023, "drain_temp_k": 277.15, "drain_pressure_bar": 39.75699697095073, "dissolved_gas_ppm": 53.74033160168967, "outlet_o2_ppm_mol": 200.94687855007382}, "PEM_H2_ElectricBoiler_1": {"component_id": "PEM_H2_ElectricBoiler_1", "initialized": true, "power_input_w": 12496.860199773255, "power_input_kw": 12.496860199773256, "outlet_temp_c": 39.992683824937444, "outlet_temp_k": 313.1426838249374, "vapor_fraction": 0.0, "phase": "gas", "total_energy_kwh": 296.4314076257164, "target_temp_c": 40.0}, "PEM_H2_Deoxo_1": {"component_id": "PEM_H2_Deoxo_1", "initialized": true, "conversion_o2_percent": 100.0, "conversion_percent": 100.0, "peak_temperature_c": 42.05751763823645, "t_peak_total_c": 42.05751763823645, "pressure_drop_mbar": 47.560862645408385, "inlet_temp_c": 39.992683824937444, "inlet_pressure_bar": 39.75699697095073, "mass_flow_kg_h": 85.0614866358841, "outlet_o2_ppm_mol": 0.0, "delta_t_ad_k": 1.6484484241357356, "delta_t_real_k": 2.0648338132990034, "t_zone_outlets_c": [42.20816727619069], "o2_in_kg_h": 0.2700583262178722, "o2_out_slip_kg_h": 0.0, "o2_consumed_kg_h": 0.2700583262178722, "h2_consumed_kg_h": 0.0340273491034519, "h2o_generated_kg_h": 0.30406879667593545}, "PEM_H2_Chiller_2": {"component_id": "PEM_H2_Chiller_2", "initialized": true, "cooling_load_kw": 13.073397439045221, "sensible_heat_kw": 12.862936233590675, "latent_heat_kw": 0.21046120545454552, "outlet_temp_k": 277.15, "outlet_pressure_bar": 39.70943610830532, "heat_rejected_kw": 15.916591197596572, "electrical_power_kw": 2.843193758551351, "timestep_energy_kwh": 0.047386562642522514, "cooling_water_flow_kg_h": 1370.8068974006617, "cop": 4.598138062073655, "pressure_drop_bar": 0.0, "outlet_o2_ppm_mol": 0.0}, "PEM_H2_Cyclone_2": {"component_id": "PEM_H2_Cyclone_2", "initialized": true, "d50_microns": 8.618920845780998, "pressure_drop_mbar": 1.2221520401507469, "pressure_drop_pa": 122.21520401507469, "active_tubes": 1, "axial_velocity_ms": 3.871897676259172, "tangential_velocity_ms": 3.8718976762591715, "separation_efficiency": 0.95, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "H2", "outlet_o2_ppm_mol": 0.0, "dissolved_gas_in_kg_h": 1.6469273424752902e-05, "dissolved_gas_out_kg_h": 1.5645009816142274e-05, "dissolved_gas_in": 1.6469273424752902e-05, "dissolved_gas_out": 1.5645009816142274e-05, "water_removed_kg_h": 0.29239597233718123, "drain_temp_k": 277.15, "drain_pressure_bar": 39.70821395626517, "dissolved_gas_ppm": 53.50624254872079}, "PEM_H2_Coalescer_2": {"component_id": "PEM_H2_Coalescer_2", "initialized": true, "d_shell_m": 0.32, "l_elem_m": 1.0, "gas_type": "H2", "total_liquid_removed_kg": 0.35671975467574446, "total_drain_removed_kg": 0.3567388429249534, "step_gas_dissolved_kg_h": 8.069531378852346e-07, "delta_p_bar": 0.14195175438985938, "power_loss_w": 96.04377955654435, "outlet_flow_kg_h": 84.75402483208882, "drain_flow_kg_h": 0.015081476467917796, "dissolved_gas_in_kg_h": 8.234383271908802e-07, "dissolved_gas_out_kg_h": 8.069531378852346e-07, "dissolved_gas_in": 8.234383271908802e-07, "dissolved_gas_out": 8.069531378852346e-07, "water_removed_kg_h": 0.015081476467917796, "drain_temp_k": 277.15, "drain_pressure_bar": 39.56626220187531, "dissolved_gas_ppm": 53.50624254872079, "outlet_o2_ppm_mol": 0.0}, "PEM_H2_ElectricBoiler_2": {"component_id": "PEM_H2_ElectricBoiler_2", "initialized": true, "power_input_w": 8983.764100260702, "power_input_kw": 8.983764100260702, "outlet_temp_c": 29.997042769577945, "outlet_temp_k": 303.1470427695779, "vapor_fraction": 0.0, "phase": "gas", "total_energy_kwh": 212.50022769962766, "target_temp_c": 30.0}, "PEM_H2_PSA_1": {"component_id": "PEM_H2_PSA_1", "initialized": true, "product_flow_kg_h": 76.14267449025864, "tail_gas_flow_kg_h": 8.611350341830175, "cycle_position": 0.2, "power_consumption_kw": 26.56908280766744, "outlet_o2_ppm_mol": 0.0, "h2_in_kg_h": 84.59874150726013, "h2_product_kg_h": 76.13886735653412, "h2_tail_loss_kg_h": 8.459874150726009, "h2_recovery_actual": 0.9}, "PEM_O2_KOD_1": {"component_id": "PEM_O2_KOD_1", "initialized": true, "rho_g": 46.42397365289075, "v_max": 0.3625738627740562, "v_real": 0.021450396091591918, "separation_status": "OK", "power_consumption_w": 21.05887711810512, "dissolved_gas_kg_h": 9.245696630670004, "total_drain_removed_kg": 75148.93491487108, "diameter_m": 0.5, "delta_p_bar": 0.05, "gas_species": "O2", "separation_efficiency": 0.97, "dissolved_gas_in_kg_h": 9.257526149516332, "dissolved_gas_out_kg_h": 9.245696630670004, "dissolved_gas_in": 9.257526149516332, "dissolved_gas_out": 9.245696630670004, "water_removed_kg_h": 3137.381108762017, "drain_temp_k": 333.15, "drain_pressure_bar": 39.95, "dissolved_gas_ppm": 2946.9472500005822, "m_dot_H2O_liq_accomp_kg_s": 0.0, "outlet_o2_ppm_mol": 990991.9528104014}, "PEM_O2_Drycooler_1": {"component_id": "PEM_O2_Drycooler_1", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 6.351060314144243, "dc_duty_kw": 11.615525505706415, "heat_rejected_kw": 11.615525505706415, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 29.178769511416874, "glycol_cold_c": 26.128864593726348, "tqc_effectiveness": 0.9999999999973525, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 1.001856392143318, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 990991.9528104016, "outlet_H2O_molf": 0.005007898277203482}, "PEM_O2_Chiller_1": {"component_id": "PEM_O2_Chiller_1", "initialized": true, "cooling_load_kw": 5.182214714562851, "sensible_heat_kw": 4.916428654816978, "latent_heat_kw": 0.26578605974587266, "outlet_temp_k": 277.15, "outlet_pressure_bar": 39.7, "heat_rejected_kw": 5.933564448535503, "electrical_power_kw": 0.7513497339726521, "timestep_energy_kwh": 0.01252249556621087, "cooling_water_flow_kg_h": 511.02468934755524, "cop": 6.897207093110483, "pressure_drop_bar": 0.2, "outlet_o2_ppm_mol": 990991.9528104016}, "PEM_O2_Cyclone_1": {"component_id": "PEM_O2_Cyclone_1", "initialized": true, "d50_microns": 19.734458306082256, "pressure_drop_mbar": 4.898196255193057, "pressure_drop_pa": 489.8196255193057, "active_tubes": 1, "axial_velocity_ms": 1.89521400973942, "tangential_velocity_ms": 1.8952140097394197, "separation_efficiency": 0.85, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "O2", "outlet_o2_ppm_mol": 995029.6524343899, "dissolved_gas_in_kg_h": 0.0019767303033265495, "dissolved_gas_out_kg_h": 0.0016788055017179962, "dissolved_gas_in": 0.0019767303033265495, "dissolved_gas_out": 0.0016788055017179962, "water_removed_kg_h": 1.598080509408119, "drain_temp_k": 277.15, "drain_pressure_bar": 39.695101803744805, "dissolved_gas_ppm": 1050.513720575802}, "PEM_O2_Coalescer_1": {"component_id": "PEM_O2_Coalescer_1", "initialized": true, "d_shell_m": 0.32, "l_elem_m": 1.0, "gas_type": "H2", "total_liquid_removed_kg": 6.787936618361401, "total_drain_removed_kg": 6.787938076977151, "step_gas_dissolved_kg_h": 5.9328690784632396e-08, "delta_p_bar": 1.162460464578901, "power_loss_w": 6440.863515029056, "outlet_flow_kg_h": 692.7901343133909, "drain_flow_kg_h": 0.27608364812191544, "dissolved_gas_in_kg_h": 6.058304033292329e-08, "dissolved_gas_out_kg_h": 5.9328690784632396e-08, "dissolved_gas_in": 6.058304033292329e-08, "dissolved_gas_out": 5.9328690784632396e-08, "water_removed_kg_h": 0.27608364812191544, "drain_temp_k": 277.15, "drain_pressure_bar": 38.532641339165906, "dissolved_gas_ppm": 0.21489389606454892, "outlet_o2_ppm_mol": 995731.2707258873}, "PEM_O2_ElectricBoiler": {"component_id": "PEM_O2_ElectricBoiler", "initialized": true, "power_input_w": 3072.8233315389734, "power_input_kw": 3.0728233315389732, "outlet_temp_c": 20.001773344996252, "outlet_temp_k": 293.15177334499623, "vapor_fraction": 0.0, "phase": "gas", "total_energy_kwh": 72.88287300730973, "target_temp_c": 20.0}, "PEM_O2_Valve": {"component_id": "PEM_O2_Valve", "initialized": true, "inlet_pressure_bar": 38.532641339165906, "outlet_pressure_bar": 15.0, "flow_rate_kg_h": 692.7901343133909, "delta_T_K": -6.321006850203901}, "O2_Production_Mixer": {"component_id": "O2_Production_Mixer", "initialized": true, "temperature_k": 368.8872267265143, "pressure_pa": 1500000.0000000007, "total_moles": 0.0, "vapor_fraction": 1.0}, "O2_Backup_Supply": {"component_id": "O2_Backup_Supply", "initialized": true, "min_target_flow_kg_h": 229.45, "max_limit_flow_kg_h": 757.54, "makeup_flow_kg_h": 0.0, "vented_flow_kg_h": 2335.2501343133904, "output_flow_kg_h": 757.54, "mass_flow_kg_h": 757.54, "arriving_flow_kg_h": 757.54}, "Biogas_Source": {"component_id": "Biogas_Source", "initialized": true, "biogas_output_kg_h": 1959.59, "cumulative_biogas_kg": 46756.94937532001, "methane_content": 0.6, "pressure_bar": 3.0}, "Biogas_Compressor_1": {"component_id": "Biogas_Compressor_1", "initialized": true, "mode": 1, "power_kw": 54.5138552720688, "transfer_mass_kg": 32.65983333333333, "actual_mass_transferred_kg": 32.65983333333333, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 0.90856425453448, "energy_consumed_kwh": 0.90856425453448, "specific_energy_kwh_kg": 0.027819010748201818, "outlet_temperature_c": 77.30518529151857, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1299.8235129705927, "cumulative_mass_kg": 46724.289541986676, "timestep_energy_kwh": 0.90856425453448, "cumulative_specific_kwh_kg": 0.027819010748201208, "inlet_pressure_bar": 3.0, "outlet_pressure_bar": 5.2, "target_outlet_pressure_bar": 5.2, "inlet_temperature_c": 25.0, "isentropic_efficiency": 0.75, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 120.0}, "Biogas_Intercooler_1": {"component_id": "Biogas_Intercooler_1", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 25.749657790390795, "dc_duty_kw": 26.15993788414488, "heat_rejected_kw": 26.15993788414488, "fan_power_kw": 2.416326530612245, "outlet_temp_c": 30.0, "glycol_hot_c": 35.29958157552977, "glycol_cold_c": 27.782358045603075, "tqc_effectiveness": 0.9996361768483283, "dc_effectiveness": 0.7298571767018636, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.0}, "Biogas_Compressor_2": {"component_id": "Biogas_Compressor_2", "initialized": true, "mode": 1, "power_kw": 53.64721577110017, "transfer_mass_kg": 32.65983333333333, "actual_mass_transferred_kg": 32.65983333333333, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 0.8941202628516695, "energy_consumed_kwh": 0.8941202628516695, "specific_energy_kwh_kg": 0.027376755224868553, "outlet_temperature_c": 81.4782837868949, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1277.3711973211234, "cumulative_mass_kg": 46658.969875320014, "timestep_energy_kwh": 0.8941202628516695, "cumulative_specific_kwh_kg": 0.02737675522486795, "inlet_pressure_bar": 5.15, "outlet_pressure_bar": 8.8, "target_outlet_pressure_bar": 8.8, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.75, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 120.0}, "Biogas_Intercooler_2": {"component_id": "Biogas_Intercooler_2", "initialized": true, "fluid_type": "O2", "tqc_duty_kw": 6.657565319744877, "dc_duty_kw": 5.1783731446145875, "heat_rejected_kw": 5.1783731446145875, "fan_power_kw": 0.12081632653061226, "outlet_temp_c": 69.24754411630994, "glycol_hot_c": 65.77614929186518, "glycol_cold_c": 36.01538409293079, "tqc_effectiveness": 0.7090257711093602, "dc_effectiveness": 0.7298571767018635, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.0}, "Biogas_Compressor_3": {"component_id": "Biogas_Compressor_3", "initialized": true, "mode": 1, "power_kw": 55.23331887905023, "transfer_mass_kg": 32.65983333333333, "actual_mass_transferred_kg": 32.65983333333333, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 0.9205553146508372, "energy_consumed_kwh": 0.9205553146508372, "specific_energy_kwh_kg": 0.028186160818870393, "outlet_temperature_c": 119.93437823413774, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1313.7331130968303, "cumulative_mass_kg": 46593.65020865335, "timestep_energy_kwh": 0.9205553146508372, "cumulative_specific_kwh_kg": 0.028195539675765612, "inlet_pressure_bar": 8.750000000000002, "outlet_pressure_bar": 14.31640625, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 69.24754411630994, "isentropic_efficiency": 0.75, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 120.0}, "ATR_Drain_Mixer": {"component_id": "ATR_Drain_Mixer", "initialized": true, "outlet_mass_kg_h": 1694.1045281427353, "outlet_temp_k": 302.1543872291042, "total_mass_kg": {"ATR_Drain_Pump_1": 37951.73302958634, "ATR_Drain_Pump_2": 2160.885254907316, "ATR_ProductSeparator": 0.0}, "history_length": 1440, "outlet_mass_flow_kg_h": 1694.1045281427353, "outlet_temperature_c": 29.004387229104225, "outlet_temperature_k": 302.1543872291042, "outlet_pressure_kpa": 1500.0, "dissolved_gas_ppm": 0.0}, "ATR_Drain_Pump_1": {"component_id": "ATR_Drain_Pump_1", "initialized": true, "pump_id": "ATR_Drain_Pump_1", "power_fluid_kw": 0.1554350885738394, "power_shaft_kw": 0.16361588270930463, "work_isentropic_kj_kg": 0.2792027950125515, "work_real_kj_kg": 0.3490034937656894, "calculated_temperature_c": 30.020888901136118, "flow_rate_kg_s": 0.44536828814153334, "cumulative_energy_kwh": 3.8739949652556196, "cumulative_water_kg": 37978.45512687483, "specific_energy_kwh_per_kg": 0.00010200506977742364, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "ATR_Drain_Pump_2": {"component_id": "ATR_Drain_Pump_2", "initialized": true, "pump_id": "ATR_Drain_Pump_2", "power_fluid_kw": 0.009473762947005469, "power_shaft_kw": 0.009972382049479441, "work_isentropic_kj_kg": 0.3005599335807183, "work_real_kj_kg": 0.3756999169758979, "calculated_temperature_c": 4.016308640513273, "flow_rate_kg_s": 0.02521630300922647, "cumulative_energy_kwh": 0.23732616347469884, "cumulative_water_kg": 2162.3982330878694, "specific_energy_kwh_per_kg": 0.00010975136764508033, "eta_is": 0.8, "eta_m": 0.95, "overall_efficiency": 0.76}, "ATR_Makeup_Mixer": {"component_id": "ATR_Makeup_Mixer", "initialized": true, "max_flow_rate_kg_h": 2331.95, "current_target_kg_h": 2331.95, "current_demand_kg_h": 637.8454718572646, "actual_drain_kg_h": 1694.1045281427353, "actual_makeup_kg_h": 637.8454718572646, "outlet_flow_kg_h": 2331.95, "reference_ratio": 3.0783192966708026}, "ATR_Feed_Mixer": {"component_id": "ATR_Feed_Mixer", "initialized": true, "temperature_k": 387.909300881824, "pressure_pa": 1474507.3850282703, "total_moles": 0.0, "vapor_fraction": 1.0}, "ATR_Plant": {"component_id": "ATR_Plant", "initialized": true, "oxygen_flow_kmol_h": 23.667861948049424, "target_o2_flow_kmol_h": 23.667861948049424, "is_ramping": false, "h2_production_kmol_h": 99.0713251641104, "syngas_flow_kg_h": 4979.772689789593, "syngas_flow_kmol_h": 278.07604719531787, "liquid_water_flow_kg_h": 1659.6448308993934, "heat_duty_kw": -891.9745596034654, "syngas_composition": {"H2": 0.0456431419431137, "CO2": 0.6027234797743966, "H2O": 0.3417141279515336, "CH4": 0.009919250330956156, "CO": 0.0}}, "ATR_H01_Boiler": {"component_id": "ATR_H01_Boiler", "duty_kw": 184.37628833529968}, "ATR_O2_Compressor": {"component_id": "ATR_O2_Compressor", "initialized": true, "mode": 1, "power_kw": 117.57609148235727, "transfer_mass_kg": 12.625666666666666, "actual_mass_transferred_kg": 12.625666666666666, "outlet_o2_ppm_mol": 995939.7982364607, "compression_work_kwh": 1.9596015247059544, "energy_consumed_kwh": 1.9596015247059544, "specific_energy_kwh_kg": 0.15520776656329338, "outlet_temperature_c": 591.8129689002147, "outlet_temperature_isentropic_c": 504.7626932569615, "cumulative_energy_kwh": 2802.253587741993, "cumulative_mass_kg": 18062.716333333497, "timestep_energy_kwh": 1.9596015247059544, "cumulative_specific_kwh_kg": 0.1551402090376976, "inlet_pressure_bar": 1.05, "outlet_pressure_bar": 15.0, "target_outlet_pressure_bar": 15.0, "inlet_temperature_c": 95.73722672651428, "isentropic_efficiency": 0.75, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": false, "max_temp_c": null}, "ATR_H02_Boiler": {"component_id": "ATR_H02_Boiler", "duty_kw": 27.019800611569927}, "ATR_H04_Boiler": {"component_id": "ATR_H04_Boiler", "duty_kw": 246.83971778039958}, "ATR_Syngas_Cooler": {"component_id": "ATR_Syngas_Cooler", "initialized": true, "q_transferred_kw": 328.55674541630964, "hot_out_temp_k": 330.83916503906244, "cold_out_temp_k": 378.15, "outlet_mass_flow_kg_h": 4979.772689789593, "outlet_entrained_mass_kg_h": 0.0, "hot_outlet_mass_flow_kg_h": 4979.772689789593, "cold_outlet_mass_flow_kg_h": 3316.319999991775, "outlet_H2O_molf": 0.33919038527354917}, "ATR_DryCooler": {"component_id": "ATR_DryCooler", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 85.54357989112098, "dc_duty_kw": 98.71566390077308, "heat_rejected_kw": 98.71566390077308, "fan_power_kw": 17.610204081632652, "outlet_temp_c": 30.0, "glycol_hot_c": 31.321130508750002, "glycol_cold_c": 27.00796933006859, "tqc_effectiveness": 0.9823147185395598, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 23.66665939171682, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.339190385273543}, "ATR_Cyclone_1": {"component_id": "ATR_Cyclone_1", "initialized": true, "d50_microns": 8.493510876275675, "pressure_drop_mbar": 3.399734033510701, "pressure_drop_pa": 339.9734033510701, "active_tubes": 1, "axial_velocity_ms": 4.008874242931192, "tangential_velocity_ms": 4.008874242931191, "separation_efficiency": 0.95, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "Syngas", "outlet_o2_ppm_mol": 0.0, "dissolved_gas_in_kg_h": 0.0, "dissolved_gas_out_kg_h": 0.0, "dissolved_gas_in": 0.0, "dissolved_gas_out": 0.0, "water_removed_kg_h": 1603.32583730952, "drain_temp_k": 303.15, "drain_pressure_bar": 12.191674116249198, "dissolved_gas_ppm": 0.0}, "ATR_Chiller_1": {"component_id": "ATR_Chiller_1", "initialized": true, "cooling_load_kw": 75.08698227598383, "sensible_heat_kw": 67.35601366374505, "latent_heat_kw": 7.730968612238777, "outlet_temp_k": 277.15, "outlet_pressure_bar": 11.991674116249198, "heat_rejected_kw": 91.41684911824244, "electrical_power_kw": 16.329866842258607, "timestep_energy_kwh": 0.2721644473709768, "cooling_water_flow_kg_h": 7873.221455159637, "cop": 4.598138062073655, "pressure_drop_bar": 0.2, "outlet_o2_ppm_mol": 0.0}, "ATR_Cyclone_2": {"component_id": "ATR_Cyclone_2", "initialized": true, "d50_microns": 8.831788982204838, "pressure_drop_mbar": 3.1465377982190783, "pressure_drop_pa": 314.65377982190785, "active_tubes": 1, "axial_velocity_ms": 3.710312103639498, "tangential_velocity_ms": 3.7103121036394975, "separation_efficiency": 0.95, "element_diameter_mm": 50.0, "vane_angle_deg": 45.0, "gas_species": "Syngas", "outlet_o2_ppm_mol": 0.0, "dissolved_gas_in_kg_h": 0.0, "dissolved_gas_out_kg_h": 0.0, "dissolved_gas_in": 0.0, "dissolved_gas_out": 0.0, "water_removed_kg_h": 90.7786908332153, "drain_temp_k": 277.15, "drain_pressure_bar": 11.988527578450977, "dissolved_gas_ppm": 0.0}, "ATR_Coalescer_1": {"component_id": "ATR_Coalescer_1", "initialized": true, "d_shell_m": 2.0, "l_elem_m": 1.0, "gas_type": "Syngas", "total_liquid_removed_kg": 114.57013244412083, "total_drain_removed_kg": 114.57013244412083, "step_gas_dissolved_kg_h": 0.0, "delta_p_bar": 0.4663452102610649, "power_loss_w": 40491.39967344037, "outlet_flow_kg_h": 3280.9858923301504, "drain_flow_kg_h": 4.6822693166605855, "dissolved_gas_in_kg_h": 0.0, "dissolved_gas_out_kg_h": 0.0, "dissolved_gas_in": 0.0, "dissolved_gas_out": 0.0, "water_removed_kg_h": 4.6822693166605855, "drain_temp_k": 277.15, "drain_pressure_bar": 11.522182368189911, "dissolved_gas_ppm": 0.0, "outlet_o2_ppm_mol": 0.0}, "ATR_PSA_1": {"component_id": "ATR_PSA_1", "initialized": true, "h2_recovery_efficiency": 0.9, "purity_target": 0.999, "product_flow_kg_h": 204.76798403380832, "tail_gas_flow_kg_h": 3076.217908296342, "product_purity_h2": 0.9989999999999999, "tail_gas_ch4_frac": 0.016056176466183375, "power_consumption_kw": 67.72524872633808, "cycle_position": 0.09999999999999987}, "ATR_H2_Compressor_1": {"component_id": "ATR_H2_Compressor_1", "initialized": true, "mode": 1, "power_kw": 120.8801897470104, "transfer_mass_kg": 3.4127997338968052, "actual_mass_transferred_kg": 3.4127997338968052, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 2.01466982911684, "energy_consumed_kwh": 2.01466982911684, "specific_energy_kwh_kg": 0.5903275862063105, "outlet_temperature_c": 134.9213002331324, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 2857.895461863594, "cumulative_mass_kg": 4841.197294730601, "timestep_energy_kwh": 2.01466982911684, "cumulative_specific_kwh_kg": 0.5903282365654192, "inlet_pressure_bar": 11.479133205020414, "outlet_pressure_bar": 29.134676644841594, "target_outlet_pressure_bar": 39.64, "inlet_temperature_c": 4.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "ATR_H2_Drycooler": {"component_id": "ATR_H2_Drycooler", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 77.13565673258739, "dc_duty_kw": 89.4068211055803, "heat_rejected_kw": 89.4068211055803, "fan_power_kw": 17.610204081632652, "outlet_temp_c": 40.0, "glycol_hot_c": 32.5304421194906, "glycol_cold_c": 27.392119067445776, "tqc_effectiveness": 0.9999923352377897, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 1.053494878694807e-07}, "ATR_H2_Compressor_2": {"component_id": "ATR_H2_Compressor_2", "initialized": true, "mode": 1, "power_kw": 41.728269529157735, "transfer_mass_kg": 3.4127997338968052, "actual_mass_transferred_kg": 3.4127997338968052, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 0.6954711588192956, "energy_consumed_kwh": 0.6954711588192956, "specific_energy_kwh_kg": 0.20378317306805233, "outlet_temperature_c": 84.91091353837629, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 984.3277636924798, "cumulative_mass_kg": 4834.371695262808, "timestep_energy_kwh": 0.6954711588192956, "cumulative_specific_kwh_kg": 0.20361027776515833, "inlet_pressure_bar": 29.084676644841597, "outlet_pressure_bar": 39.64, "target_outlet_pressure_bar": 39.64, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "H2_Production_Mixer": {"component_id": "H2_Production_Mixer", "initialized": true, "temperature_k": 328.359109537186, "pressure_pa": 3927933.3030889016, "total_moles": 0.0, "vapor_fraction": 1.0}, "H2_Production_Cooler": {"component_id": "H2_Production_Cooler", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 33.471472018690356, "dc_duty_kw": 70.75174953931386, "heat_rejected_kw": 70.75174953931386, "fan_power_kw": 17.610204081632652, "outlet_temp_c": 40.0, "glycol_hot_c": 30.959186873776957, "glycol_cold_c": 26.892994371517545, "tqc_effectiveness": 0.9834607986865078, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 1.1303699889516067e-10, "outlet_H2O_molf": 3.5683441394290293e-06}, "LP_Compressor_S1": {"component_id": "LP_Compressor_S1", "initialized": true, "mode": 1, "power_kw": 208.26235738925735, "transfer_mass_kg": 8.666666666666666, "actual_mass_transferred_kg": 8.666666666666666, "outlet_o2_ppm_mol": 1.1303699889516067e-10, "compression_work_kwh": 3.471039289820956, "energy_consumed_kwh": 3.471039289820956, "specific_energy_kwh_kg": 0.40050453344087955, "outlet_temperature_c": 127.42588390175814, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 4897.498190173717, "cumulative_mass_kg": 12229.467734037647, "timestep_energy_kwh": 3.471039289820956, "cumulative_specific_kwh_kg": 0.4004669946953425, "inlet_pressure_bar": 39.229333030975646, "outlet_pressure_bar": 70.0, "target_outlet_pressure_bar": 70.0, "inlet_temperature_c": 40.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "LP_Intercooler_1": {"component_id": "LP_Intercooler_1", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 201.16391100642633, "dc_duty_kw": 290.02099207023593, "heat_rejected_kw": 290.02099207023593, "fan_power_kw": 88.05102040816327, "outlet_temp_c": 30.0, "glycol_hot_c": 29.885502620975842, "glycol_cold_c": 26.55192799947889, "tqc_effectiveness": 0.9999999999472181, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 1.1303699889515007e-10, "outlet_H2O_molf": 3.568344139428798e-06}, "LP_Storage_Tank": {"component_id": "LP_Storage_Tank", "n_tanks": 30, "total_mass_kg": 10542.064560717667, "avg_pressure_bar": 40.21961617747361, "max_pressure_bar": 67.18694451329658, "min_pressure_bar": 29.4744264011301, "tanks_filling": 1, "tanks_emptying": 1, "tanks_idle": 28, "total_filled_kg": 12212.134400704324, "total_discharged_kg": 1670.069839986797, "tank_details": [{"id": 0, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 1, "mass_kg": 382.64768392255434, "pressure_bar": 44.15353828893224, "state": "EMPTYING"}, {"id": 2, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 3, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 4, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 5, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 6, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 7, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 8, "mass_kg": 586.6976839225543, "pressure_bar": 67.18694451329658, "state": "IDLE"}, {"id": 9, "mass_kg": 318.23483219124915, "pressure_bar": 35.45086290630159, "state": "FILLING"}, {"id": 10, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 11, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 12, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 13, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 14, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 15, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 16, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 17, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 18, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 19, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 20, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 21, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 22, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 23, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 24, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 25, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 26, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 27, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 28, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}, {"id": 29, "mass_kg": 257.3800286611716, "pressure_bar": 29.4744264011301, "state": "IDLE"}]}, "HP_Compressor_S2": {"component_id": "HP_Compressor_S2", "initialized": true, "mode": 1, "power_kw": 51.443952726278404, "transfer_mass_kg": 2.915, "actual_mass_transferred_kg": 2.915, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 0.8573992121046401, "energy_consumed_kwh": 0.8573992121046401, "specific_energy_kwh_kg": 0.2941335204475609, "outlet_temperature_c": 89.22973516484183, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 501.984959684125, "cumulative_mass_kg": 1667.154839986797, "timestep_energy_kwh": 0.8573992121046401, "cumulative_specific_kwh_kg": 0.3011027816037174, "inlet_pressure_bar": 44.15353828893224, "outlet_pressure_bar": 70.0, "target_outlet_pressure_bar": 70.0, "inlet_temperature_c": 25.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "HP_Intercooler_2": {"component_id": "HP_Intercooler_2", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 40.36997705344331, "dc_duty_kw": 177.98108713635028, "heat_rejected_kw": 177.98108713635028, "fan_power_kw": 88.05102040816327, "outlet_temp_c": 30.0, "glycol_hot_c": 27.998152173337132, "glycol_cold_c": 25.95239255108021, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.0}, "HP_Compressor_S3": {"component_id": "HP_Compressor_S3", "initialized": true, "mode": 1, "power_kw": 84.85302278479843, "transfer_mass_kg": 2.915, "actual_mass_transferred_kg": 2.915, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 1.414217046413307, "energy_consumed_kwh": 1.414217046413307, "specific_energy_kwh_kg": 0.48515164542480516, "outlet_temperature_c": 133.94104141766906, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1893.7796472885132, "cumulative_mass_kg": 3887.951689704669, "timestep_energy_kwh": 1.414217046413307, "cumulative_specific_kwh_kg": 0.4870892949372953, "inlet_pressure_bar": 69.95, "outlet_pressure_bar": 140.0, "target_outlet_pressure_bar": 140.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "HP_Intercooler_3": {"component_id": "HP_Intercooler_3", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 72.21217234958043, "dc_duty_kw": 199.70829564836603, "heat_rejected_kw": 199.70829564836603, "fan_power_kw": 88.05102040816327, "outlet_temp_c": 30.0, "glycol_hot_c": 28.36415441812028, "glycol_cold_c": 26.068656766989648, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.0}, "HP_Compressor_S4": {"component_id": "HP_Compressor_S4", "initialized": true, "mode": 1, "power_kw": 73.18261341844062, "transfer_mass_kg": 2.915, "actual_mass_transferred_kg": 2.915, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 1.2197102236406772, "energy_consumed_kwh": 1.2197102236406772, "specific_energy_kwh_kg": 0.4184254626554639, "outlet_temperature_c": 116.63624448998331, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 1814.8765208026089, "cumulative_mass_kg": 3882.1216897046693, "timestep_energy_kwh": 1.2197102236406772, "cumulative_specific_kwh_kg": 0.4674960410477691, "inlet_pressure_bar": 139.95, "outlet_pressure_bar": 250.0, "target_outlet_pressure_bar": 250.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "HP_Intercooler_4": {"component_id": "HP_Intercooler_4", "initialized": true, "fluid_type": "H2", "tqc_duty_kw": 60.189808890711824, "dc_duty_kw": 191.50495428798715, "heat_rejected_kw": 191.50495428798715, "fan_power_kw": 88.05102040816327, "outlet_temp_c": 30.0, "glycol_hot_c": 28.22596633238618, "glycol_cold_c": 26.024759961259917, "tqc_effectiveness": 1.0, "dc_effectiveness": 0.6823401561968886, "latent_heat_kw": 0.0, "heating_load_kw": 0.0, "outlet_entrained_mass_kg_h": 0.0, "outlet_o2_ppm_mol": 0.0, "outlet_H2O_molf": 0.0}, "HP_Compressor_S5": {"component_id": "HP_Compressor_S5", "initialized": true, "mode": 1, "power_kw": 94.0307624290541, "transfer_mass_kg": 2.915, "actual_mass_transferred_kg": 2.915, "outlet_o2_ppm_mol": 0.0, "compression_work_kwh": 1.5671793738175683, "energy_consumed_kwh": 1.5671793738175683, "specific_energy_kwh_kg": 0.5376258572272962, "outlet_temperature_c": 134.83753450312201, "outlet_temperature_isentropic_c": 25.0, "cumulative_energy_kwh": 2083.9946425406115, "cumulative_mass_kg": 3876.2916897046694, "timestep_energy_kwh": 1.5671793738175683, "cumulative_specific_kwh_kg": 0.5376258572273205, "inlet_pressure_bar": 249.95, "outlet_pressure_bar": 491.69755859375, "target_outlet_pressure_bar": 500.0, "inlet_temperature_c": 30.0, "isentropic_efficiency": 0.65, "mechanical_efficiency": 0.96, "electrical_efficiency": 0.93, "temperature_limited": true, "max_temp_c": 135.0}, "Truck_Station_1": {"component_id": "Truck_Station_1", "n_stations": 5, "active_units": 0, "total_demand_signal_kg_h": 174.9, "power_consumption_kw": 1.6412442080197374, "trucks_filled_total": 13, "total_h2_delivered_kg": 3873.3766897046694}}, "metrics": {"total_production_kg": 33.808936292808255, "total_demand_kg": 0.0, "total_cost": 460.3333333333246, "average_cost_per_kg": 13.61572956175038, "demand_fulfillment_rate": 0.0, "h2_rfnbo_kg": 0.0, "h2_non_rfnbo_kg": 0.0, "rfnbo_compliance_pct": 100.0, "spot_purchases_mwh": 0.0}, "dashboard_data": {"metadata": {"simulation_hours": 24, "start_date": "2025-01-01", "timestep_hours": 1.0}, "timeseries": {"hour": [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0], "production": {"electrolyzer_kg": [], "atr_kg": [], "total_kg": [0.0, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653, 1.2867945910560161, 1.4782791682614653, 1.4782791682614653, 1.4782791682614653]}, "storage": {"lp_level_kg": [], "hp_level_kg": []}, "energy": {"electrolyzer_kwh": [], "compression_kwh": []}, "demand": {"requested_kg": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}, "price": {"per_mwh": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}}, "flows": {"sankey": {"nodes": [], "links": []}, "matrix": {}}, "kpis": {"total_production_kg": 33.808936292808255, "total_demand_kg": 0.0, "total_cost": 460.3333333333246, "average_cost_per_kg": 13.61572956175038, "demand_fulfillment_rate": 0.0, "h2_rfnbo_kg": 0.0, "h2_non_rfnbo_kg": 0.0, "rfnbo_compliance_pct": 100.0, "spot_purchases_mwh": 0.0}}};

        // Initialize Dashboard
        function initDashboard() {
            updateKPIs();
            renderCharts();
            renderSankey();
            renderFlowMatrix();
        }

        function updateKPIs() {
            const metrics = data.metrics;
            document.getElementById('kpi-production').textContent = formatNumber(metrics.total_production_kg, ' kg');
            document.getElementById('kpi-demand').textContent = formatNumber(metrics.total_demand_kg, ' kg');
            document.getElementById('kpi-cost').textContent = formatCurrency(metrics.total_cost);
            document.getElementById('kpi-avg-cost').textContent = formatCurrency(metrics.average_cost_per_kg);
        }

        function renderSankey() {
            if (!data.dashboard_data.flows || !data.dashboard_data.flows.sankey) return;
            
            const sankeyData = data.dashboard_data.flows.sankey;
            
            const plotData = [{
                type: "sankey",
                orientation: "h",
                node: {
                    pad: 15,
                    thickness: 30,
                    line: { color: "black", width: 0.5 },
                    label: sankeyData.nodes.map(n => n.name),
                    color: sankeyData.nodes.map(n => n.color || "#3498db")
                },
                link: {
                    source: sankeyData.links.map(l => l.source),
                    target: sankeyData.links.map(l => l.target),
                    value: sankeyData.links.map(l => l.value),
                    label: sankeyData.links.map(l => l.label)
                }
            }];

            const layout = {
                font: { size: 10 },
                margin: { t: 20, l: 20, r: 20, b: 20 }
            };

            Plotly.newPlot('sankeyChart', plotData, layout);
        }

        function renderFlowMatrix() {
            if (!data.dashboard_data.flows || !data.dashboard_data.flows.matrix) return;
            
            const matrix = data.dashboard_data.flows.matrix;
            const container = document.getElementById('flowMatrixContainer');
            
            let html = '<table><thead><tr><th>Source \ Dest</th>';
            
            // Header row
            matrix.columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += '</tr></thead><tbody>';
            
            // Data rows
            matrix.rows.forEach((rowName, i) => {
                html += `<tr><th>${rowName}</th>`;
                matrix.data[i].forEach(val => {
                    const bg = val > 0 ? `rgba(46, 204, 113, ${Math.min(val/1000, 0.5)})` : '';
                    html += `<td style="background:${bg}">${val > 0 ? formatNumber(val) : '-'}</td>`;
                });
                html += '</tr>';
            });
            
            html += '</tbody></table>';
            container.innerHTML = html;
        }

        function renderCharts() {
            const ts = data.dashboard_data.timeseries;
            const hours = ts.hour;

            // Production vs Demand
            new Chart(document.getElementById('productionChart'), {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [
                        {
                            label: 'Total Production (kg)',
                            data: ts.production.total_kg,
                            borderColor: '#2ecc71',
                            tension: 0.1
                        },
                        {
                            label: 'Demand (kg)',
                            data: ts.demand.requested_kg,
                            borderColor: '#e74c3c',
                            borderDash: [5, 5],
                            tension: 0.1
                        }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Storage Levels
            new Chart(document.getElementById('storageChart'), {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [
                        {
                            label: 'LP Storage (kg)',
                            data: ts.storage.lp_level_kg,
                            borderColor: '#3498db',
                            fill: true,
                            backgroundColor: 'rgba(52, 152, 219, 0.1)'
                        },
                        {
                            label: 'HP Storage (kg)',
                            data: ts.storage.hp_level_kg,
                            borderColor: '#9b59b6',
                            fill: true,
                            backgroundColor: 'rgba(155, 89, 182, 0.1)'
                        }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
            
            // Energy Price
            new Chart(document.getElementById('priceChart'), {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [{
                        label: 'Energy Price ($/MWh)',
                        data: ts.price.per_mwh,
                        borderColor: '#f1c40f',
                        backgroundColor: 'rgba(241, 196, 15, 0.1)',
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        function formatNumber(num, suffix = '') {
            return new Intl.NumberFormat('en-US', { maximumFractionDigits: 0 }).format(num) + suffix;
        }

        function formatCurrency(num) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(num);
        }

        initDashboard();
    </script>
</body>
</html>
